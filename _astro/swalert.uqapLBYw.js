import{j as o}from"./jsx-runtime.7faW4zRM.js";import{u as D}from"./GlobalContext.Btt9DYbM.js";/* empty css                       */import{r as e}from"./index.DhYZZe0J.js";import{c as M,u as I}from"./consts.egh2LFbU.js";import{C as _}from"./index.D7_7wx8r.js";import{S as U}from"./sweetalert2.esm.all.BGf-Fe8G.js";const re={src:"/_astro/Recurso 7.CLbhrmLu.png",width:248,height:175,format:"png"},ne={src:"/_astro/Recurso 8.BwGKD1BS.png",width:247,height:175,format:"png"},oe={src:"/_astro/upload.BeMWYPk0.svg",width:24,height:24,format:"svg"},K={src:"/_astro/caret-bottom.MQ69CPmR.svg",width:100,height:100,format:"svg"},Q={src:"/_astro/check.C3EzRoNG.svg",width:50,height:50,format:"svg"},ae=({id:r,options:l,multiple:c,form:i,setForm:v})=>{const{languageText:m}=D(),a=e.useRef(null),x=e.useRef(null),k=e.useRef(null),h=e.useRef(null),w=(l?.length+1)*41,g=w<200?w+"px":"200px";e.useEffect(()=>{const t=document.createElement("style");t.innerHTML=`
            .all-options.show {
                animation: showSelect 0.5s ease;
                opacity: 1;
                height: ${g};
                display: inline-block;
            }

            @keyframes showSelect {
                from {
                    opacity: 0;
                    height: 0px;
                }
                to {
                    opacity: 1;
                    height: ${g};
                }
            }`},[]);const j=t=>{v({...i,[r]:t}),a.current.classList.remove("show");const s=b(t);h.current.innerHTML=s},R=()=>{a.current.classList.toggle("opacity-100"),a.current.classList.toggle("h-auto"),a.current.classList.toggle("inline-block");let t=!!a.current.classList.contains("show");const s=document.getElementsByClassName("select-personalized");Array.from(s).forEach((u,n)=>{u.classList.remove("z-50"),u.children[1].classList.remove("show")}),t?(x.current.classList.remove("z-50"),a.current.classList.remove("show")):(x.current.classList.add("z-50"),a.current.classList.add("show"))},[C,F]=e.useState(l?.map(()=>!1)),b=t=>{const s=l.find(u=>u[0]===t);return s?s[1]:""},L=async t=>{F(n=>n.map((f,y)=>y===t?!f:f));let s=i[r]?i[r]:[];s=s?.map(n=>parseInt(n)),s.includes(t)?s=s.filter(n=>n!==t):s.push(t),s=s.sort((n,f)=>n-f);const u=s?.map(n=>b(n)).join(", ");await v(n=>({...n,[r]:s})),h.current&&(h.current.innerHTML=`<span>${u}</span>`)};return o.jsx("div",{"data-name":r,className:"w-full",children:o.jsxs("div",{ref:x,className:"select-personalized relative bg-[#ECECEC] flex flex-col border border-black rounded-xl w-full max-h-[70px]",children:[o.jsx("button",{type:"button",ref:k,onClick:R,className:`w-full min-h-[50px] md:min-h-[58px] ${c?"h-auto":"h-[50px] md:h-[58px]"} px-2 items-center`,children:o.jsxs("span",{className:"text-black flex px-1 md:px-4 justify-between pop-semi",children:[o.jsx("span",{ref:h,className:`selected-option ${c?"multiple":""}`,children:o.jsx("span",{className:"text-gray-500 text-sm",children:c?M.txtSelectPro.multiple[m]:M.txtSelectPro.single[m]})}),o.jsx("img",{src:K.src,width:20,alt:"Caret bottom"})]})}),o.jsx("div",{ref:a,className:"all-options absolute w-full left-[0] top-[92%] inline-block",children:o.jsx("div",{className:"absolute max-h-[200px] ml-[-1px] overflow-y-scroll top-0 left-0 bg-[#ECECEC] border-b border-r border-l border-black rounded-b-[15px] px-4 flex flex-col",children:l&&l?.map((t,s)=>o.jsxs("button",{type:"button",onClick:()=>{c?L(t[0]):j(t[0])},className:"flex transition-all text-black hover:bg-white min-h-[41px] cursor-pointer items-center border-t pop-semi border-black",children:[c&&o.jsx("span",{className:"boxSelect",children:o.jsx("img",{className:`${C[t[0]]?"":"invisible"} inline-block mt-[-8px]`,src:Q.src,alt:"checked",width:15})}),o.jsx("span",{className:"ml-2 mb-[-2px]",children:t[1]})]},s))})})]})})},W=`${I}/genres`,Y=async()=>{try{return await _.get({url:`${W}/`,headers:{Accept:"application/json","Content-Type":"application/json"}})}catch(r){console.log(r)}},E=e.createContext(),le=({children:r})=>{e.useRef(null);const l=e.useRef(null),c=e.useRef(null),i=e.useRef(null),v=e.useRef(null),m=e.useRef(null),a=e.useRef(null),x=e.useRef(null),k=e.useRef(null),h=e.useRef(null),w=e.useRef(null),g=e.useRef(null),j=e.useRef(null),R=e.useRef(null),C=e.useRef(null),F=e.useRef(null),b=e.useRef(null),L=e.useRef(null),t=e.useRef(null);function s(){const S=Math.floor(Math.random()*24),p=Math.floor(Math.random()*60),d=Math.floor(Math.random()*60),O=String(S).padStart(2,"0"),z=String(p).padStart(2,"0"),B=String(d).padStart(2,"0");return`${O}:${z}:${B}`}s();const u={txtUser:"",txtPassword:"",txtPassConfirm:"",txtForgiven:"",txtFullName:"",txtDia:"",txtMes:"",txtAnio:"",txtHoraNacimiento:"",txtNacimientoCiudad:"",chkGender:!1,slcIdentify:"",slcInterest:"",edadMin:"",edadMax:"",txtFoto:"",txtApp:"",chkPersonalData:!1,chkTerms:!1},[n,f]=e.useState(u),[y,N]=e.useState(null),[P,T]=e.useState(null);function $(){g.current.innerHTML="",f(u)}function A(){$(),m.current.classList.contains("hidden")&&(m.current.classList.remove("hidden"),a.current.classList.add("hidden")),l.current.classList.add("oculto"),R.current.classList.add("hidden"),C.current.classList.add("hidden"),F.current.classList.add("hidden"),b.current.classList.add("hidden"),L.current.classList.add("hidden"),t.current.classList.add("hidden")}const[G,H]=e.useState({});return e.useEffect(()=>{(async()=>{const S=await Y();if(S?.data?.rows){const p={es:[],en:[],pt:[]};S.data.rows.forEach(d=>{p.es.push([d.id,d.genero_es]),p.en.push([d.id,d.genero_en]),p.pt.push([d.id,d.genero_pt])}),H(p)}})()},[]),o.jsx(E.Provider,{value:{form:n,setForm:f,file:y,setFile:N,previewUrl:P,setPreviewUrl:T,refModalLogin:l,refBtnSigin:c,refH3Title:i,refForgiven:v,refDivRegister:m,refDivForgiven:a,refTxtEmailForgiven:x,refTxtUser:k,refTxtPassword:h,refTxtPassConfirm:w,refAlertForm:g,refDescriptionForm:j,refForm1:R,refForm2:C,refForm3:F,refForm4:b,refForm6:L,refForm7:t,optionsGender:G,closeModal:A},children:r})},ce=()=>e.useContext(E);function ie(r,l,c){let i="#FFCC00";return r==="error"&&(i="#da415d"),r==="success"&&(i="#69ba69"),U.fire({title:l,text:c,icon:r,iconColor:i,background:"rgb(0,0,0,0.90)",color:"#FFFFFF"})}export{le as F,ae as S,ne as a,oe as b,ie as c,Q as d,re as s,ce as u};
