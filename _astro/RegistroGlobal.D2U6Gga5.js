import{j as e}from"./jsx-runtime.K1e75nIr.js";import{b,a as L}from"./bg-white.CDTeDQmM.js";import{s as j}from"./logo.DFUuHF2-.js";import{H as P,C as U}from"./CardPerfilHorizontal.DLOTLxWH.js";import{g as f,a as E,C as c,o as M}from"./consts.BQrVI9U1.js";import{u as g,G as T}from"./GlobalContext.EMmJ4Qgo.js";import{r}from"./index.NEDEFKed.js";import{C as z}from"./index.D7_7wx8r.js";import{S as B,s as G,a as H,b as R,c as h}from"./swalert.dlfXll0x.js";import{M as Y}from"./ModalSettings.BQceiM6T.js";/* empty css                       */import"./notifies.Ccg9rzAg.js";/* empty css                       */import"./sweetalert2.all.Bo_iXOkr.js";import"./_commonjsHelpers.BosuxZz1.js";import"./users.hoqzbXOJ.js";const q=`${E}/couples`,O=async s=>{try{return await z.request({method:"POST",url:`${q}/form`,headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Bearer "+f("AuthToken")},data:s})}catch(l){console.log(l)}},N=r.createContext(),W=({children:s})=>{const l={txtFullName:"",txtDia:"",txtMes:"",txtAnio:"",slcIdentify:"",txtFoto:"",acerca:"",user_id:""},[d,m]=r.useState(l),[i,x]=r.useState(null),[p,u]=r.useState(null);return e.jsx(N.Provider,{value:{form:d,setForm:m,file:i,setFile:x,previewUrl:p,setPreviewUrl:u},children:s})},J=()=>r.useContext(N),K=()=>{const{form:s,setForm:l,file:d,setFile:m,previewUrl:i,setPreviewUrl:x}=J(),p=r.useRef(null),u=()=>{p.current.click()},v=a=>{const t=a.target.files[0];if(t&&t.type.startsWith("image/")){m(t);const n=URL.createObjectURL(t);x(n)}else alert("Please select a valid image file"),m(null),x(null)},[w,y]=r.useState(""),[C,F]=r.useState(""),[k,S]=r.useState(""),A=a=>{const t=a.target.value;/^\d*$/.test(t)&&(t===""||parseInt(t)>=1&&parseInt(t)<=31)&&(y(t),l({...s,txtDia:t}))},I=a=>{const t=a.target.value;/^\d*$/.test(t)&&(t===""||parseInt(t)>=1&&parseInt(t)<=12)&&(F(t),l({...s,txtMes:t}))},D=a=>{const t=a.target.value;if(/^\d*$/.test(t)){S(t);const n=new Date().getFullYear(),o=n-70,$=n-18;t!==""&&(parseInt(t)<o||parseInt(t)>$)?l({...s,txtAnio:""}):l({...s,txtAnio:t})}},_=async()=>{if(console.log("form :"),console.log(s),!d){alert("Please select a file first");return}const a=new FormData;if(a.append("image",d),!s.txtFullName||!s.txtDia||!s.txtMes||!s.txtAnio||!s.slcIdentify||!i)return h("error","Error!","Debe diligenciar todos los campos para continuar");const t=JSON.parse(f("User"));let n;const o={nombre:s.txtFullName,nacimiento_dia:s.txtDia,nacimiento_mes:s.txtMes,nacimiento_ano:s.txtAnio,genero_identifica:s.slcIdentify,foto:i,acerca:"",user_id:t.id};console.log(o),a.append("id",o.id),a.append("nombre",o.nombre),a.append("nacimiento_dia",o.nacimiento_dia),a.append("nacimiento_mes",o.nacimiento_mes),a.append("nacimiento_ano",o.nacimiento_ano),a.append("genero_identifica",o.genero_identifica),a.append("foto",""),a.append("acerca",o.acerca),a.append("user_id",o.user_id),n=await O(a),console.log(n),n.status>=200&&n.status<=400?h("success","Exito!","Pareja registrada correctamente!"):(console.log(n),h("error","Error!","Ha ocurrido un error inesperado!"))};return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"pt-4 md:pt-0 pl-4 md:pl-0 text-left mb-4 text-xl pop-regular",children:"Añadir datos de pareja"}),e.jsxs("div",{className:"w-full md:w-[500px] bg-[#D84066] md:rounded-[25px] p-3 md:border border-white",children:[e.jsxs("div",{className:"flex pt-2 pb-4 border-b border-white",children:[e.jsx("div",{className:"w-[55px] h-[55px] min-w-[55px] border border-black bg-black p-1 rounded-full ml-2 mr-4",children:e.jsx("img",{src:j.src,alt:"Logo"})}),e.jsxs("div",{className:"flex flex-col text-left w-full",children:[e.jsx("h3",{className:"text-white text-xl pop-regular",children:"Nombre"}),e.jsx("small",{className:"text-sm text-white",children:"Ubicacion"})]})]}),e.jsxs("div",{className:"my-4 flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"txtFullName",className:`${c.label}`,children:"Nombre completo"}),e.jsx("div",{className:"flex mb-2",children:e.jsx("input",{className:`${c.inputTwo}`,type:"text",name:"txtFullName",placeholder:"Ingresa tu nombre Completo",pattern:"[a-zA-Z]+",minLength:"5",maxLength:"260",value:s.txtFullName,onChange:a=>l({...s,txtFullName:a.target.value}),required:!0})}),e.jsx("label",{htmlFor:"txtDia",className:`${c.label}`,children:"Fecha de nacimiento"}),e.jsx("div",{className:"flex mb-2",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"special-select mr-2",children:e.jsx("input",{className:`${c.inputTwo}`,type:"text",name:"txtDia",placeholder:"Día",minLength:"1",maxLength:"2",min:"1",max:"31",value:w,onChange:A,required:!0})}),e.jsx("div",{className:"special-select mr-2",children:e.jsx("input",{className:`${c.inputTwo}`,type:"text",name:"txtMes",placeholder:"Mes",minLength:"1",maxLength:"2",min:"1",max:"12",value:C,onChange:I,required:!0})}),e.jsx("div",{className:"special-select",children:e.jsx("input",{className:`${c.inputTwo}`,type:"text",name:"txtAnio",placeholder:"Año",maxLength:"4",value:k,onChange:D,required:!0})})]})}),e.jsx("label",{htmlFor:"slcIdentify",className:`${c.label}`,children:"Genero"}),e.jsx("div",{className:"flex mb-2 z-40",children:e.jsx(B,{id:"slcIdentify",options:M,form:s,setForm:l})}),e.jsx("label",{className:`${c.label}`,children:"Foto de los ojos"}),e.jsxs("div",{className:"hidden md:flex flex-col md:flex-row",children:[e.jsx("button",{onClick:u,title:"Subir Foto",type:"button",className:"flex bg-white w-full cursor-pointer md:w-2/4 border align-center items-center justify-center border-black rounded-[25px] md:mr-2 mb-4 md:mb-0",children:e.jsx("div",{className:"relative p-4",children:e.jsx("img",{className:"relative",id:"imgFotoOjos",src:i??G.src,width:245,height:143,alt:"Subir imagen"})})}),e.jsx("input",{ref:p,className:"hidden",type:"file",name:"inputFoto",accept:"image/*",onChange:v}),e.jsx("div",{className:"flex bg-white w-full md:w-2/4 flex-col justify-center border border-black rounded-[25px] md:ml-2",children:e.jsx("div",{className:"flex justify-center items-center h-[160px] overflow-hidden mb-2",children:e.jsx("img",{className:"w-[200px]",src:H.src,alt:"Demostracion de foto"})})})]}),e.jsx("div",{className:"flex mt-2",children:e.jsxs("button",{onClick:u,className:"bg-white border border-black w-full justify-between rounded-xl flex items-center px-4 h-[58px] mr-2",children:[e.jsxs("label",{className:"w-full text-black pop-bold",children:[i?"Cambiar":"Cargar"," Foto"]}),e.jsx("img",{src:R.src,className:"mr-2",width:30,alt:"Upload"})]})}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("button",{className:"bg-transparent cursor-pointer border border-black w-[160px] justify-center rounded-[25px] flex items-center px-4 py-2 mr-2",children:e.jsx("label",{className:" text-black pop-bold cursor-pointer",children:" Cancelar"})}),e.jsx("button",{onClick:_,className:"ml-4 bg-black cursor-pointer border border-black w-[160px] justify-center rounded-[25px] flex items-center px-4 py-2 mr-2",children:e.jsx("label",{className:"text-white pop-bold cursor-pointer",children:" Aceptar"})})]})]})]})]})},Z=()=>{const{refHeaderButtonsNull:s}=g();r.useEffect(()=>{const i=f("AuthToken"),x=f("User");i!=null&&x!=null||(window.location.href="/")},[]);const{mode:l}=g(),[d,m]=r.useState(b.src);return r.useEffect(()=>{m(l==="dark"?b.src:L.src)},[l]),e.jsxs("div",{style:{backgroundColor:"white",backgroundImage:`url(${d})`},className:"flex flex-col justify-center w-full min-h-screen md:p-10 text-center bg-contain",children:[e.jsx(P,{id:"headerButtonsBlob",back:!1,refBtn:s}),e.jsxs("div",{className:"w-full flex flex-col md:flex-row items-center",children:[e.jsx("div",{className:"w-full md:w-[500px] flex flex-col z-10 pt-[1px]",children:e.jsx(U,{btnChat:!0})}),e.jsx("div",{className:"w-full hidden md:flex z-10 gap-4 px-4 md:px-40 pl-2 flex-col",children:e.jsx("div",{className:"w-full flex items-center justify-center mb-[-5px] mt-[-103px]",children:e.jsx("div",{className:"relative inline-block overflow-hidden",children:e.jsx("img",{src:j.src,width:150,alt:"Logo Kimik",className:"mb-[-50px]"})})})})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex flex-col xl:flex-row w-full justify-center gap-10 lg:px-[10%]",children:e.jsx(K,{})})})]})},pe=()=>e.jsxs(T,{children:[e.jsx(Y,{}),e.jsx(W,{children:e.jsx(Z,{})})]});export{pe as default};
